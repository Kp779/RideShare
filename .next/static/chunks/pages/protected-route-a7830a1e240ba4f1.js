(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[615],{5678:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/protected-route",function(){return o(6035)}])},6035:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return s}});var n=o(5893),r=o(7294),u=o(1163),i=o(1181),s=(e=>{let t=t=>{let o=(0,u.useRouter)(),[s,c]=(0,r.useState)("Valid");return(0,r.useEffect)(()=>{let e=async()=>{if(console.log("hello"),void 0!==window.ethereum)try{await window.ethereum.request({method:"eth_requestAccounts"});let e=new i.Q(window.ethereum),t=e.getSigner(),n=await t.getAddress(),r=localStorage.getItem(n);if(console.log(r),""!=r){let e=await fetch("/api/verify",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}),t=await e.json();c(t.message),console.log(t),"Valid"!==s&&(window.localStorage.removeItem(n),o.push("/"))}else o.push("/")}catch(e){console.error(e)}};e()},[s,o]),(0,n.jsx)(e,{...t})};return t})(function(){return(0,n.jsx)("h1",{children:"This is a protected route."})})},1163:function(e,t,o){e.exports=o(6885)},6601:function(){}},function(e){e.O(0,[181,774,888,179],function(){return e(e.s=5678)}),_N_E=e.O()}]);